<dom-module id="robojs-arena">
    <link rel="import" href="robojs-robot-status.html">
    <template>
        <div class="vertical layout">
            <div>
                <canvas style="border: 1px solid black;" width="800" height="400" id="canvas"></canvas>
            </div>
            <div>
                <paper-button raised on-click="pause">Pause</paper-button>
                <paper-button raised on-click="start">Start</paper-button>
            </div>
            <div>
                <h2>Robots</h2>
                <template is="dom-repeat" items="{{currentBattleRobots}}">
                    <robojs-robot-status robot="{{item.id}}"></robojs-robot-status>
                </template>
                <paper-button raised on-click="log">Log</paper-button>
                <div ng-repeat="robot in gameState.currentBattleRobots">
                    <div>{{robot.id}}</div>
                    <div>Health: {{robot.health}}</div>
                    <div>Location: {{robot.x}}, {{robot.y}}</div>
                </div>
            </div>
        </div>
    </template>
</dom-module>

<script>
    Polymer({
        is: "robojs-arena",
        properties: {
            currentBattleRobots: {
                type: Array,
                value: [{id: 'one'},{id: 'two'}]
            }
        },
        ready: function() {
            this.games = window.roboJS.games;
            console.log(this.games);
            //this.robot = {name: "hello"};
            this.robot = "hello";
        },
        init: function() {
            this.currentBattleRobots = window.roboJS.currentBattleRobots;
            console.log(this.currentBattleRobots);
        },
        pause: function() {
            window.roboJS.pause();
        },
        start: function() {
            console.log(window.roboJS);
            window.roboJS.resume();
        },
        log: function() {
            console.log(this.currentBattleRobots);
        }
    });
</script>
